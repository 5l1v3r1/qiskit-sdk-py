{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "id": "XXX",
    "definitions": {
	"method": {
	    "type": "array",
	    "items": {	    
		"type": "object",
		"required": ["type"],
		"properties": {
		    "type": {"type": "string"},
		    "reps": {
			"description": "Number of repetitions of this cal type",
			"type": "integer",
			"minimum": 0,
			"maximum": 32,
			"default": 1
		    }
		},
		"anyOf": [ {
		    "description": "Built-in calibration methods"
		    "properties": {
			"type": { "enum": ["default", "01", "complete", "complete_neighborhood" ] }
		    }
		}, {
		    "description": "User-specified list of states",
		    "required": ["states"],
		    "properties": {
			"type": { "enum": ["user"] },
			"states": {
			    "type": "array",
			    "maxLength": 32,
			    "items": { "$ref": "#/definitions/hexstring" }
			}
		    }
		} ]			   
	    }
	}
    },
    "allOf": [
	{"$ref": "file:qobj-core-01.json"},
	{"$ref": "file:qobj-generic-01.json"},
	{
	    "required": ["config"],
	    "properties": {
		"config": {
		    "required": ["shots"],
		    "properties": {
			"shots": {"maximum": 8192},
			"max-credits": {}
			"readout_cal": {
			    "properties": {
				"return": {
				    "description": "Should results for calibration sequences be returned",
				    "type": "boolean",
				    "default": false
				},
				"types": { "$ref": "#/definitions/cal_methods" }
			    }
			}
		    }
		},		    
		"circuits": {
		    "maxItems": 32,
		    "items": {
			"properties": {
			    "config": {
				"properties": {
				    "shots": {"not": {}} }
			    },
			    "compiled-circuit": {
				"properties": {
				    "header": {
					"properties": {
					    "number_of_qubits": {"maximum": 5},
					    "number_of_clbits": {"maximum": 1024},
					    "clbit_labels": {
						"items": {
						    "items": [ {}, {"maximum": 1024}]
						}
					    }
					}
				    },
				    "operations": {
					"maxItems": 100,
					"items": {
					    "properties": {
						"name": {
						    "anyOf": [
							{"enum": ["u1", "u2", "u3", "id", "cx", "barrier", "measure"]},
							{"pattern": "^#.+"}
						    ]},
						"qubits": {
						    "maxItems": 5,
						    "items": {"maximum": 4}},
						"clbits": {
						    "maxItems": 1024,
						    "items": {"maximum": 1023}},
						"conditional": {"not": {}}
					    }
					}
				    }
				}
			    }
			}
		    }
		}
	    }
	}
    ]
}
